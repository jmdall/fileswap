<div class="container">
  <div class="hero-section">
    <h1>ğŸ”’ Ã‰change SÃ©curisÃ© de Fichiers</h1>
    <p class="subtitle">
      Ã‰changez vos fichiers en toute sÃ©curitÃ© avec un systÃ¨me de double validation.
      Les deux parties doivent accepter l'Ã©change avant de pouvoir tÃ©lÃ©charger les fichiers.
    </p>
  </div>

  <div class="features">
    <div class="feature">
      <div class="feature-icon">ğŸ”</div>
      <h3>SÃ©curisÃ©</h3>
      <p>Chiffrement et validation double</p>
    </div>
    <div class="feature">
      <div class="feature-icon">âœ…</div>
      <h3>Validation mutuelle</h3>
      <p>Les deux parties doivent accepter</p>
    </div>
    <div class="feature">
      <div class="feature-icon">â±ï¸</div>
      <h3>Temporaire</h3>
      <p>Sessions limitÃ©es Ã  48h</p>
    </div>
    <div class="feature">
      <div class="feature-icon">ğŸ”</div>
      <h3>AperÃ§u</h3>
      <p>Visualisez les mÃ©tadonnÃ©es avant d'accepter</p>
    </div>
  </div>

  <div class="action-section" *ngIf="!sessionCreated">
    <h2>Commencer un Ã©change</h2>
    <p>CrÃ©ez une nouvelle session d'Ã©change et partagez les liens avec votre partenaire.</p>
    
    <button 
      class="btn btn-primary btn-large" 
      (click)="createSession()"
      [disabled]="isCreating">
      <span *ngIf="!isCreating">ğŸš€ CrÃ©er une session d'Ã©change</span>
      <span *ngIf="isCreating">â³ CrÃ©ation en cours...</span>
    </button>

    <div class="alert alert-danger" *ngIf="error">
      {{error}}
    </div>
  </div>

  <div class="session-created" *ngIf="sessionCreated && sessionData">
    <div class="alert alert-success">
      âœ… Session crÃ©Ã©e avec succÃ¨s !
    </div>

    <div class="session-info">
      <h2>Session d'Ã©change crÃ©Ã©e</h2>
      <p class="session-id">ID: <code>{{sessionData.sessionId}}</code></p>
      <p class="expires">Expire le: {{sessionData.expiresAt | date:'medium':'fr-FR'}}</p>
    </div>

    <div class="invites">
      <h3>Liens d'invitation</h3>
      <p class="mb-3">Partagez ces liens avec les participants :</p>

      <div class="invite-card">
        <h4>ğŸ‘¤ Participant A</h4>
        <div class="link-box">
          <code>{{location.origin}}/exchange?sid={{sessionData.sessionId}}&token={{sessionData.invites.A.token}}</code>
        </div>
        <div class="link-actions">
          <button class="btn btn-sm" (click)="copyLink('A')">ğŸ“‹ Copier</button>
          <button class="btn btn-sm" (click)="openInNewTab('A')">ğŸ”— Ouvrir</button>
        </div>
      </div>

      <div class="invite-card">
        <h4>ğŸ‘¤ Participant B</h4>
        <div class="link-box">
          <code>{{location.origin}}/exchange?sid={{sessionData.sessionId}}&token={{sessionData.invites.B.token}}</code>
        </div>
        <div class="link-actions">
          <button class="btn btn-sm" (click)="copyLink('B')">ğŸ“‹ Copier</button>
          <button class="btn btn-sm" (click)="openInNewTab('B')">ğŸ”— Ouvrir</button>
        </div>
      </div>
    </div>

    <div class="instructions">
      <h3>ğŸ“ Instructions</h3>
      <ol>
        <li>Partagez chaque lien avec le participant correspondant</li>
        <li>Chaque participant doit uploader son fichier</li>
        <li>Une fois les deux fichiers prÃªts, les mÃ©tadonnÃ©es seront visibles</li>
        <li>Les deux participants doivent accepter l'Ã©change</li>
        <li>AprÃ¨s la double validation, les fichiers peuvent Ãªtre tÃ©lÃ©chargÃ©s</li>
      </ol>
    </div>

    <button class="btn btn-primary mt-4" (click)="createSession()">
      ğŸ”„ CrÃ©er une nouvelle session
    </button>
  </div>

  <div class="how-it-works">
    <h2>Comment Ã§a marche ?</h2>
    <div class="steps">
      <div class="step">
        <div class="step-number">1</div>
        <h4>CrÃ©er une session</h4>
        <p>GÃ©nÃ©rez deux liens uniques pour les participants</p>
      </div>
      <div class="step">
        <div class="step-number">2</div>
        <h4>Uploader les fichiers</h4>
        <p>Chaque participant upload son fichier</p>
      </div>
      <div class="step">
        <div class="step-number">3</div>
        <h4>VÃ©rifier</h4>
        <p>Consultez les mÃ©tadonnÃ©es et l'aperÃ§u</p>
      </div>
      <div class="step">
        <div class="step-number">4</div>
        <h4>Valider</h4>
        <p>Les deux parties acceptent l'Ã©change</p>
      </div>
      <div class="step">
        <div class="step-number">5</div>
        <h4>TÃ©lÃ©charger</h4>
        <p>RÃ©cupÃ©rez les fichiers Ã©changÃ©s</p>
      </div>
    </div>
  </div>
</div>
